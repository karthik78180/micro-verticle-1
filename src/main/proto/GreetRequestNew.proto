syntax = "proto3";
package com.example.protobuf;
option java_outer_classname = "GreetMessagesNew";

// New version of the greet request with richer fields
message GreetRequestNew {
  string newName = 1;
  string email = 2;
  repeated int32 scores = 3;

  message Metadata {
    string source = 1;
    int64 timestamp = 2;
  }

  Metadata meta = 4;

  enum Priority {
    LOW = 0;
    MEDIUM = 1;
    HIGH = 2;
  }

  Priority priority = 5;
}

message GreetResponseNew {
  string message = 1;
  bool success = 2;
}

service GreeterNew {
  rpc SayHelloNew (GreetRequestNew) returns (GreetResponseNew);
}